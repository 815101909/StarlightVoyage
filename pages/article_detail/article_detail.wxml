<!--pages/article_detail/article_detail.wxml-->
<view class="article-container">
  <!-- Star background animation -->
  <view class="star-bg"></view>
  
  <!-- Article header with cover -->
  <view class="article-header">
    <view class="header-content">
      <image class="article-cover" src="{{article.coverUrl}}" mode="aspectFill"></image>
      <view class="article-info">
        <view class="article-title">{{article.title}}</view>
        <view class="article-meta">
          <text class="article-date">{{article.date}}</text>
          <text class="article-tag">{{article.tag}}</text>
        </view>
        <!-- Wavy line divider with æ™“è§†ç•Œ text -->
        <view class="wavy-divider">
          <view class="wavy-line left"></view>
          <text class="divider-text">æ™“è§†ç•Œ</text>
          <view class="wavy-line right"></view>
        </view>
      </view>
    </view>
  </view>
  
  <!-- Control bar -->
  <view class="control-bar">
    <view class="button-row">
      <view class="action-btn read-btn" bindtap="readArticle" hover-class="hover">
        <text class="icon-read">ğŸ”Š</text>
        <text>æœ—è¯»</text>
      </view>
      <view class="action-btn bookmark-btn" bindtap="bookmarkArticle" hover-class="hover">
        <text class="icon-bookmark">{{isBookmarked ? 'â˜…' : 'â˜†'}}</text>
        <text>æ”¶è—</text>
      </view>
      <view class="action-btn print-btn" bindtap="printArticle" hover-class="hover">
        <text class="icon-print">ğŸ–¨ï¸</text>
        <text>æ‰“å°</text>
      </view>
      <view class="action-btn exercise-btn" bindtap="showExercises" hover-class="hover">
        <text class="icon-exercise">ğŸ“</text>
        <text>ä¹ é¢˜</text>
      </view>
    </view>
  </view>
  
  <!-- æ€è€ƒé¢˜æ¡† -->
  <view class="thinking-question-box">
    <view class="thinking-question-header">
      <text class="thinking-icon">ğŸ’­</text>
      <text class="thinking-title">æ€è€ƒ</text>
    </view>
    <view class="thinking-question-content">
      <text class="question-text">{{article.thinkingQuestion || 'é€šè¿‡é˜…è¯»æœ¬æ–‡ï¼Œä½ è®¤ä¸ºäººç±»æ¢ç´¢å®‡å®™çš„æ„ä¹‰æ˜¯ä»€ä¹ˆï¼Ÿæœªæ¥çš„å¤ªç©ºæ¢ç´¢ä¼šç»™æˆ‘ä»¬å¸¦æ¥å“ªäº›æ”¹å˜ï¼Ÿ'}}</text>
    </view>
    <view class="thinking-question-tips">
      <text class="tips-text">å°æç¤º: æ€è€ƒè¿™ä¸ªé—®é¢˜å¯ä»¥å¸®åŠ©ä½ æ›´æ·±å…¥åœ°ç†è§£æ–‡ç« å†…å®¹</text>
    </view>
  </view>
  
  <!-- Article content -->
  <scroll-view scroll-y class="article-content" style="font-size: {{fontSize}}rpx">
    <!-- Text box 1 -->
    <view class="content-box intro-box">
      <view class="indented-paragraph">
        <text class="first-char">{{article.introFirstChar}}</text>
        <text>{{article.introRest}}</text>
      </view>
    </view>
    
    <!-- First image between text box 1 and 2 -->
    <view class="standalone-image-container">
      <image 
        src="{{article.firstContentImage}}" 
        mode="widthFix" 
        class="standalone-image"
        bindtap="previewImage"
        data-image="{{article.firstContentImage}}"></image>
      <view class="image-caption">{{article.firstImageCaption}}</view>
    </view>
    
    <!-- Text box 2 without image -->
    <view class="content-box main-content-box">
      <view class="content-section">
        <view class="indented-paragraph">
          <text class="first-char">{{article.contentPart1FirstChar}}</text>
          <text>{{article.contentPart1Rest}}</text>
        </view>
      </view>
    </view>
    
    <!-- Second image between text box 2 and 3 -->
    <view class="standalone-image-container">
      <image 
        src="{{article.contentImage}}" 
        mode="widthFix" 
        class="standalone-image"
        bindtap="previewImage"
        data-image="{{article.contentImage}}"></image>
      <view class="image-caption">{{article.imageCaption}}</view>
    </view>
    
    <!-- Text box 3 -->
    <view class="content-box conclusion-box">
      <view class="indented-paragraph">
        <text class="first-char">{{article.conclusionFirstChar}}</text>
        <text>{{article.conclusionRest}}</text>
      </view>
    </view>
  </scroll-view>
</view> 