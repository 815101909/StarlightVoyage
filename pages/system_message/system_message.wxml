<view class="container system-message-page">
  <!-- é¡µé¢èƒŒæ™¯ -->
  <view class="page-bg"></view>
  
  <!-- é¡µé¢æ ‡é¢˜ -->
  <view class="page-header">
    <text class="page-title">ç³»ç»Ÿæ¶ˆæ¯</text>
    <view class="refresh-btn" bindtap="refreshMessages">
      <text class="refresh-icon">ğŸ”„</text>
    </view>
  </view>
  
  <!-- æ¶ˆæ¯åˆ—è¡¨ -->
  <view class="message-list" wx:if="{{!isLoading && messages.length > 0}}">
    <view 
      wx:for="{{messages}}" 
      wx:key="id" 
      class="message-item {{item.isRead ? 'read' : 'unread'}} {{item.type}}-message"
      bindtap="markAsRead"
      data-id="{{item.id}}"
    >
      <view class="message-indicator"></view>
      <view class="message-content">
        <view class="message-header">
          <text class="message-title">{{item.title}}</text>
          <text class="message-time">{{item.date}} {{item.time}}</text>
        </view>
        <text class="message-preview">{{item.content}}</text>
      </view>
    </view>
  </view>
  
  <!-- ç©ºæ¶ˆæ¯æç¤º -->
  <view class="empty-messages" wx:if="{{!isLoading && messages.length === 0}}">
    <view class="empty-icon">ğŸ“­</view>
    <view class="empty-text">æš‚æ— ç³»ç»Ÿæ¶ˆæ¯</view>
  </view>
  
  <!-- åŠ è½½ä¸­ -->
  <view class="loading-container" wx:if="{{isLoading}}">
    <view class="loading-icon"></view>
    <text class="loading-text">åŠ è½½ä¸­...</text>
  </view>
</view> 