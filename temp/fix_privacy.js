// pages/privacy/privacy.js
Page({
  /**
   * 页面的初始数据
   */
  data: {
    activeTab: 0,  // 0: 隐私政策, 1: 用户协议
    scrollTop: 0,
    isLoading: true,
    privacyPolicy: {
      title: '隐私政策',
      lastUpdate: '2023年4月15日',
      content: []
    },
    userAgreement: {
      title: '用户协议',
      lastUpdate: '2023年4月15日',
      content: []
    }
  },

  /**
   * 生命周期函数--监听页面加载
   */
  onLoad: function (options) {
    // 可以根据传入参数设置初始展示的标签页
    if (options && options.tab) {
      this.setData({
        activeTab: parseInt(options.tab) || 0
      });
    }
    
    this.loadContent();
  },

  /**
   * 切换标签页
   */
  switchTab: function (e) {
    const tabIndex = e.currentTarget.dataset.index;
    this.setData({
      activeTab: tabIndex,
      scrollTop: 0  // 切换标签页时滚动到顶部
    });
  },
  
  /**
   * 加载内容
   */
  loadContent: function() {
    // 模拟从服务器加载内容
    setTimeout(() => {
      this.setData({
        isLoading: false,
        'privacyPolicy.content': this.getPrivacyPolicyContent(),
        'userAgreement.content': this.getUserAgreementContent()
      });
    }, 500);
  },
  
  /**
   * 获取隐私政策内容
   */
  getPrivacyPolicyContent: function() {
    return [
      {
        title: "1. 信息收集",
        paragraphs: [
          "小舟摇星河（以下简称\"我们\"）尊重并保护所有用户的个人隐私权。为了给您提供更准确、更有个性化的服务，我们会按照本隐私政策的规定使用和披露您的个人信息。",
          "我们收集的信息类型包括：您在注册账户或使用我们的服务时提供的个人信息；您使用功能或内容时我们自动收集的信息；我们从第三方获得的您的信息。"
        ]
      },
      {
        title: "2. 信息使用",
        paragraphs: [
          "我们使用收集的信息主要用于：提供、维护和改进我们的服务；向您推荐个性化内容；评估和分析我们的服务使用情况。",
          "在未经您同意的情况下，我们不会与任何公司、组织和个人分享您的个人信息，但法律法规另有规定的除外。"
        ]
      },
      {
        title: "3. 信息存储",
        paragraphs: [
          "我们将在中华人民共和国境内收集的个人信息存储在中国境内。我们仅在本政策所述目的所必需的期间和法律法规要求的时限内保留您的个人信息。"
        ]
      },
      {
        title: "4. 信息安全",
        paragraphs: [
          "我们使用各种安全技术和程序，以防信息的丢失、不当使用、未经授权阅览或披露。例如，在某些服务中，我们将利用加密技术（如SSL）来保护您提供的个人信息。",
          "请您理解，由于技术的限制以及可能存在的各种恶意手段，即便我们已经尽力加强安全措施，也无法始终保证信息百分之百的安全。"
        ]
      },
      {
        title: "5. 儿童隐私保护",
        paragraphs: [
          "我们的产品和服务主要面向成人。如果没有父母或监护人的同意，儿童不应创建自己的用户账户。",
          "对于经父母同意而收集儿童个人信息的情况，我们只会在法律允许、父母或监护人明确同意或者保护儿童所必要的情况下使用或公开披露此信息。"
        ]
      },
      {
        title: "6. 隐私政策的更新",
        paragraphs: [
          "我们可能会不时更新本隐私政策。当我们这样做时，我们会在应用程序中发布通知，并在政策顶部更新\"最后更新\"日期。",
          "建议您定期查看本隐私政策，以了解我们如何保护您的信息。"
        ]
      },
      {
        title: "7. 联系我们",
        paragraphs: [
          "如果您对本隐私政策有任何疑问、意见或建议，请通过以下方式与我们联系：",
          "电子邮件：xiao_shi_jie@126.com"
        ]
      }
    ];
  },
  
  /**
   * 获取用户协议内容
   */
  getUserAgreementContent: function() {
    return [
      {
        title: "1. 接受条款",
        paragraphs: [
          "欢迎您使用小舟摇星河！在使用我们的服务之前，请您仔细阅读并同意以下条款。",
          "本协议是您与小舟摇星河之间关于使用小舟摇星河服务所订立的协议。通过访问或使用本应用，您表示您接受并同意受本协议的约束。"
        ]
      },
      {
        title: "2. 账户注册与安全",
        paragraphs: [
          "在使用本服务前，您需要注册一个小舟摇星河账户。您在注册过程中提供的所有信息必须是真实、准确、完整和最新的。",
          "您应当对您的账户安全负责，包括妥善保管您的账户和密码信息，并对您账户下的所有活动承担责任。如发现任何未经授权使用您账户的情况，请立即通知我们。"
        ]
      },
      {
        title: "3. 用户行为规范",
        paragraphs: [
          "您同意不会利用我们的服务从事以下行为：",
          "- 发布、传输任何违反国家法律法规政策的内容；",
          "- 发布、传输任何骚扰、侮辱、恐吓、诽谤、含有或煽动种族、民族歧视的内容；",
          "- 发布、传输任何含有色情、淫秽内容的信息；",
          "- 发布、传输电子广告信息及垃圾信息；",
          "- 从事任何侵犯他人知识产权或其他合法权益的行为；",
          "- 从事任何危害计算机网络安全的行为。"
        ]
      },
      {
        title: "4. 知识产权",
        paragraphs: [
          "小舟摇星河及其相关的所有权利（包括但不限于版权、商标权、专利权、商业秘密等）均归我们或我们的授权方所有。",
          "未经我们明确书面许可，您不得以任何形式复制、修改、出版、发行、公开展示或利用小舟摇星河的内容或服务。"
        ]
      },
      {
        title: "5. 免责声明",
        paragraphs: [
          "我们不保证服务一定能满足您的要求，也不保证服务不会中断，对服务的及时性、安全性、准确性也不作保证。",
          "对于因不可抗力或小舟摇星河不能控制的原因造成的服务中断或其他缺陷，小舟摇星河不承担任何责任。"
        ]
      },
      {
        title: "6. 协议修改",
        paragraphs: [
          "我们保留随时修改本协议的权利。对本协议的修改将通过在应用内发布通知的形式告知用户。",
          "如果您不同意修改后的条款，您有权停止使用小舟摇星河的服务。如果您继续使用服务，则视为您接受修改后的协议。"
        ]
      },
      {
        title: "7. 法律适用与争议解决",
        paragraphs: [
          "本协议的订立、执行和解释及争议的解决均应适用中国法律。",
          "如双方就本协议内容或其执行发生任何争议，双方应尽量友好协商解决；协商不成时，任何一方均可向小舟摇星河所在地的人民法院提起诉讼。"
        ]
      }
    ];
  }
}); 